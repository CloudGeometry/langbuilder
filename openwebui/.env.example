# Ollama URL for the backend to connect
# The path '/ollama' will be redirected to the specified backend URL
OLLAMA_BASE_URL='http://localhost:11434'

OPENAI_API_BASE_URL=''
OPENAI_API_KEY='your-openai-api-key-here'

# Port Configuration - ONLY PLACE TO DEFINE PORTS
FRONTEND_PORT=5175
BACKEND_PORT=8002

# For production, you should only need one host as
# fastapi serves the svelte-kit built frontend and backend from the same host and port.
# To test with CORS locally, you can set something like
# NOTE: Using '*' is not recommended for production deployments
CORS_ALLOW_ORIGIN="http://localhost:${FRONTEND_PORT};http://localhost:${BACKEND_PORT}"

# For production you should set this to match the proxy configuration (127.0.0.1)
FORWARDED_ALLOW_IPS='*'

# DO NOT TRACK
SCARF_NO_ANALYTICS=true
DO_NOT_TRACK=true
ANONYMIZED_TELEMETRY=false

# =================================
# Google OAuth Configuration
# =================================

# Google OAuth Credentials (from Google Cloud Console)
GOOGLE_CLIENT_ID='your-google-client-id.apps.googleusercontent.com'
GOOGLE_CLIENT_SECRET='your-google-client-secret'
GOOGLE_REDIRECT_URI="http://localhost:${BACKEND_PORT}/oauth/google/callback"

# Google Drive OAuth Credentials (separate OAuth client for Drive integration)
GOOGLE_DRIVE_CLIENT_ID='your-google-drive-client-id.apps.googleusercontent.com'
GOOGLE_DRIVE_CLIENT_SECRET='your-google-drive-client-secret'
WEBUI_URL="http://localhost:${FRONTEND_PORT}"

# OAuth Settings
ENABLE_OAUTH_SIGNUP=true
OAUTH_ALLOWED_DOMAINS='*'
OAUTH_MERGE_ACCOUNTS_BY_EMAIL=true
OAUTH_UPDATE_PICTURE_ON_LOGIN=true

# OpenID Provider URL for proper logout functionality
OPENID_PROVIDER_URL='https://accounts.google.com/.well-known/openid_configuration'

# Additional OAuth Settings
ENABLE_SIGNUP=true
ENABLE_LOGIN_FORM=true
ENABLE_API_KEY=true

# Database Configuration
DATA_DIR='./data'
DATABASE_URL='sqlite:///./data/webui.db'

# Application Settings
WEBUI_NAME='ActionBridge'
WEBUI_SECRET_KEY='your-secret-key-here-change-in-production'
JWT_EXPIRES_IN='24h'
OPEN_WEBUI_PORT=${BACKEND_PORT}
PORT=${BACKEND_PORT}
HOST=0.0.0.0

# =================================
# Session Configuration (OAuth Fix)
# =================================

# Session cookie settings for OAuth state management
WEBUI_SESSION_COOKIE_SAME_SITE='lax'
WEBUI_SESSION_COOKIE_SECURE='false'

# Enable debug logging for OAuth troubleshooting (set to INFO in production)
GLOBAL_LOG_LEVEL='DEBUG'

# =================================
# Corporate Authentication (Optional)
# =================================

# Corporate Authentication Config File
CORPORATE_AUTH_CONFIG='/app/corporate_config.json'

# Google Workspace Setup (Required for corporate authentication)
GOOGLE_WORKSPACE_DOMAIN='your-domain.com'
GOOGLE_WORKSPACE_ADMIN_EMAIL='admin@your-domain.com'
GOOGLE_SERVICE_ACCOUNT_KEY_FILE='/app/secrets/google-service-account.json'

# Corporate Group Mappings (JSON format)
CORPORATE_GROUP_MAPPINGS="{\"admin-group@your-domain.com\": \"admin\", \"users-group@your-domain.com\": \"user\"}"

# =================================
# Zoho OAuth Configuration
# =================================

# Zoho OAuth Credentials (from Zoho Developer Console)
ZOHO_CLIENT_ID='your-zoho-client-id'
ZOHO_CLIENT_SECRET='your-zoho-client-secret'
ZOHO_REDIRECT_URI="http://localhost:${BACKEND_PORT}/api/v1/services/zoho/callback"

# =================================
# GoogleDriveAgent Configuration (Optional)
# =================================
GOOGLE_DRIVE_TOKEN=''
GOOGLE_DRIVE_USER_ID=''
GOOGLE_DRIVE_AGENT_URL='http://localhost:8000/process'
GOOGLE_DRIVE_AGENT_PATH='/path/to/GoogleDriveAgent'
KMS_MASTER_KEY='your-kms-master-key-base64-encoded'
