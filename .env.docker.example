# =================================
# Docker Development Environment Variables
# =================================
# Copy this file to .env.docker and fill in your values:
#   cp .env.docker.example .env.docker
#
# This file contains environment variables for Docker development setup
# Based on .env with adaptations for Docker networking

# =================================
# Database Configuration
# =================================
LANGBUILDER_DATABASE_URL=postgresql://langbuilder:langbuilder@postgres:5432/langbuilder
DATABASE_URL=sqlite:///./data/webui.db
DATA_DIR=./data

# =================================
# Ollama Configuration
# =================================
# For local Ollama (running on host machine):
OLLAMA_BASE_URL=http://host.docker.internal:11434
# For Ollama in Docker (uncomment if using ollama service):
# OLLAMA_BASE_URL=http://ollama:11434

# =================================
# OpenAI Configuration
# =================================
OPENAI_API_BASE_URL=
OPENAI_API_KEY=your-openai-api-key-here

# =================================
# Port Configuration
# =================================
# Note: Internal ports are defined in docker-compose.dev.yml
# These are the external (host) ports:
FRONTEND_PORT=5175
BACKEND_PORT=8002
OPEN_WEBUI_PORT=8767
VITE_PORT=3000
VITE_PROXY_TARGET=http://langbuilder-backend:8002
LANGBUILDER_BACKEND_PORT=8002
PORT=8767
HOST=0.0.0.0

# =================================
# CORS Configuration
# =================================
# Allow all local development ports
CORS_ALLOW_ORIGIN=http://localhost:5175;http://localhost:8002;http://localhost:3000;http://localhost:8767

# For production you should set this to match the proxy configuration
FORWARDED_ALLOW_IPS=*

# =================================
# Telemetry & Analytics
# =================================
SCARF_NO_ANALYTICS=true
DO_NOT_TRACK=true
ANONYMIZED_TELEMETRY=false

# =================================
# Google OAuth Configuration (Optional)
# =================================
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_REDIRECT_URI=http://localhost:8767/oauth/google/callback

# Google Drive Integration (Optional)
GOOGLE_DRIVE_CLIENT_ID=your-google-drive-client-id
GOOGLE_DRIVE_CLIENT_SECRET=your-google-drive-client-secret

WEBUI_URL=http://localhost:5175

# OAuth Settings
ENABLE_OAUTH_SIGNUP=true
OAUTH_ALLOWED_DOMAINS=*
OAUTH_MERGE_ACCOUNTS_BY_EMAIL=true
OAUTH_UPDATE_PICTURE_ON_LOGIN=true

# OpenID Provider URL for proper logout functionality
OPENID_PROVIDER_URL=https://accounts.google.com/.well-known/openid_configuration

# =================================
# Authentication Settings
# =================================
ENABLE_SIGNUP=true
ENABLE_LOGIN_FORM=true
ENABLE_API_KEY=true

# =================================
# Application Settings
# =================================
WEBUI_NAME=LangBuilder
WEBUI_SECRET_KEY=your-secret-key-here-change-in-production
JWT_EXPIRES_IN=24h

# =================================
# Session Configuration (OAuth Fix)
# =================================
WEBUI_SESSION_COOKIE_SAME_SITE=lax
WEBUI_SESSION_COOKIE_SECURE=false

# Enable debug logging for development
GLOBAL_LOG_LEVEL=DEBUG
LOG_LEVEL=debug

# =================================
# Zoho OAuth Configuration (Optional)
# =================================
ZOHO_CLIENT_ID=your-zoho-client-id
ZOHO_CLIENT_SECRET=your-zoho-client-secret
ZOHO_REDIRECT_URI=http://localhost:8002/api/v1/services/zoho/callback

# =================================
# Development Settings
# =================================
ENV=dev
NODE_ENV=development
PYTHONUNBUFFERED=1
