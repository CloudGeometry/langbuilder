# LangBuilder Testing Documentation

> Comprehensive testing documentation for the LangBuilder project

## Overview

LangBuilder employs a multi-layered testing strategy that covers both backend (Python/FastAPI) and frontend (React/TypeScript) components. The testing infrastructure supports unit tests, integration tests, end-to-end tests, and performance tests.

## Quick Start

### Backend Tests (Python)

```bash
# Run all unit tests
make unit_tests

# Run unit tests with coverage
make unit_tests args="--cov --cov-report=html"

# Run integration tests
make integration_tests

# Run integration tests without API keys
make integration_tests_no_api_keys

# Run all tests (unit + integration + coverage)
make tests
```

### Frontend Tests (TypeScript/React)

```bash
# Run Jest unit tests
cd src/frontend
npm test

# Run Jest with coverage
npm test -- --coverage

# Run Playwright E2E tests
npx playwright test

# Run specific test file
npx playwright test tests/core/features/folders.spec.ts
```

## Test Frameworks

| Component | Framework | Purpose |
|-----------|-----------|---------|
| Backend Unit | pytest | Python unit and integration testing |
| Backend Async | pytest-asyncio | Async test support |
| Backend Coverage | pytest-cov | Code coverage reporting |
| Frontend Unit | Jest | React component testing |
| Frontend E2E | Playwright | End-to-end browser testing |
| Load Testing | Locust | Performance and load testing |

## Documentation Index

| Document | Description |
|----------|-------------|
| [TESTING-STRATEGY.md](./TESTING-STRATEGY.md) | Master testing strategy and philosophy |
| [test-inventory.md](./test-inventory.md) | Catalog of existing tests |
| [test-coverage-analysis.md](./test-coverage-analysis.md) | Coverage analysis and gaps |
| [test-patterns.md](./test-patterns.md) | Testing patterns and conventions |
| [test-infrastructure.md](./test-infrastructure.md) | Test tooling and CI/CD integration |
| [test-data-management.md](./test-data-management.md) | Test data and fixtures |
| [quality-gates.md](./quality-gates.md) | Quality criteria and thresholds |
| [master-test-plan.md](./master-test-plan.md) | Release test plan template |
| [test-environment-setup.md](./test-environment-setup.md) | Environment setup guide |

## Test Structure

```
langbuilder/
├── src/
│   ├── backend/
│   │   └── tests/
│   │       ├── conftest.py          # Shared fixtures
│   │       ├── unit/                # Unit tests (~253 files)
│   │       │   ├── api/             # API endpoint tests
│   │       │   ├── components/      # Component tests
│   │       │   ├── base/            # Base functionality tests
│   │       │   └── template/        # Template tests
│   │       ├── integration/         # Integration tests (~36 files)
│   │       │   ├── components/      # Component integration
│   │       │   └── flows/           # Flow integration
│   │       ├── performance/         # Performance tests
│   │       └── locust/              # Load testing
│   └── frontend/
│       └── tests/
│           ├── core/
│           │   ├── features/        # Feature E2E tests
│           │   └── integrations/    # Integration E2E tests
│           ├── extended/            # Extended test suites
│           └── utils/               # Test utilities
```

## Test Markers

Backend tests use pytest markers for categorization:

| Marker | Description |
|--------|-------------|
| `@pytest.mark.unit` | Unit tests |
| `@pytest.mark.integration` | Integration tests |
| `@pytest.mark.api_key_required` | Requires external API keys |
| `@pytest.mark.no_blockbuster` | Excludes blockbuster checks |
| `@pytest.mark.benchmark` | Performance benchmarks |
| `@pytest.mark.slow` | Slow-running tests |
| `@pytest.mark.async_test` | Async test functions |

## CI/CD Integration

Tests are automatically run via GitHub Actions on:
- Pull request creation/update (with `lgtm` label)
- Merge queue
- Manual workflow dispatch

Key workflows:
- `ci.yml` - Main CI orchestration
- `python_test.yml` - Backend tests (parallelized across 5 shards)
- `typescript_test.yml` - Frontend Playwright tests (dynamic sharding)
- `jest_test.yml` - Frontend Jest unit tests

## Related Documentation

- [Technology Stack](../inventory/technology-stack.md)
- [Architecture Overview](../architecture/)
- [Development Setup](../onboarding/)

---
*Generated by CG AIx SDLC - Testing Documentation*
