# Infrastructure Requirements

**Change Request:** langwatch-observability-poc
**Generated:** 2026-01-21
**Step:** 7 - Infrastructure Requirements

---

## Context

This document describes infrastructure requirements for the LangWatch integration POC. Since this is a validation-only POC, infrastructure requirements are minimal.

---

## Infrastructure Overview

### Current State
```
┌─────────────────────────────────────────────────────────────┐
│                    LangBuilder Instance                      │
│                                                             │
│   Environment Variables:                                    │
│   └── LANGWATCH_API_KEY (new requirement)                  │
│                                                             │
└─────────────────────────────────────────────────────────────┘
                              │
                              │ HTTPS (443)
                              ▼
┌─────────────────────────────────────────────────────────────┐
│                    LangWatch Cloud                           │
│                  app.langwatch.ai                           │
│                                                             │
│   Managed by LangWatch (no infrastructure needed)          │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

## New Infrastructure Requirements

### Required: Environment Variable

| Variable | Required | Description |
|----------|----------|-------------|
| `LANGWATCH_API_KEY` | Yes | LangWatch API key from dashboard |

### No Other Infrastructure Required

| Component | Required | Notes |
|-----------|----------|-------|
| Servers | No | Uses existing LangBuilder |
| Databases | No | LangWatch cloud storage |
| Queues | No | Built-in async queue |
| Caches | No | Not required |
| Load balancers | No | N/A |

---

## Network Requirements

### Outbound Connectivity

| Destination | Port | Protocol | Purpose |
|-------------|------|----------|---------|
| app.langwatch.ai | 443 | HTTPS | Trace API |

### Firewall Rules

If LangBuilder is behind a firewall, ensure:
```
ALLOW OUTBOUND: app.langwatch.ai:443 (HTTPS)
```

---

## Environment Configuration

### Development Environment

```bash
# .env or shell export
export LANGWATCH_API_KEY=lw_xxxxxxxxxxxxxxxxxxxxxxxx
```

### Production Environment

Configure via your deployment platform:

**Docker Compose:**
```yaml
services:
  langbuilder:
    environment:
      - LANGWATCH_API_KEY=${LANGWATCH_API_KEY}
```

**Kubernetes:**
```yaml
apiVersion: v1
kind: Secret
metadata:
  name: langwatch-secret
stringData:
  api-key: lw_xxxxxxxxxxxxxxxxxxxxxxxx
---
apiVersion: apps/v1
kind: Deployment
spec:
  template:
    spec:
      containers:
        - name: langbuilder
          env:
            - name: LANGWATCH_API_KEY
              valueFrom:
                secretKeyRef:
                  name: langwatch-secret
                  key: api-key
```

**AWS ECS:**
```json
{
  "containerDefinitions": [{
    "secrets": [{
      "name": "LANGWATCH_API_KEY",
      "valueFrom": "arn:aws:secretsmanager:region:account:secret:langwatch-key"
    }]
  }]
}
```

---

## LangWatch Account Setup

### Prerequisites

1. **Create LangWatch Account**
   - Go to https://app.langwatch.ai
   - Sign up for free account

2. **Create Project**
   - Create new project for LangBuilder
   - Note the project name

3. **Generate API Key**
   - Go to Settings → API Keys
   - Create new key
   - Copy the key (starts with `lw_`)

---

## POC Infrastructure Checklist

- [ ] LangWatch account created
- [ ] API key generated
- [ ] Environment variable configured
- [ ] Network connectivity verified (HTTPS to langwatch.ai)
- [ ] No firewall blocking

---

## Cost Considerations

### LangWatch Pricing

| Tier | Traces/Month | Cost |
|------|--------------|------|
| Free | 10,000 | $0 |
| Pro | 100,000+ | Varies |

**POC Recommendation:** Free tier is sufficient for validation.

---

## No Infrastructure Changes to LangBuilder

| Component | Change Required |
|-----------|----------------|
| Backend servers | None |
| Database | None |
| Load balancer | None |
| Monitoring | None |
| Logging | None |

---

**Metadata:**
- change_request: langwatch-observability-poc
- step: 7-infrastructure
- status: complete
- generated_at: 2026-01-21

*Generated by CloudGeometry AIx SDLC - Phase 2 (Specs)*
